<!DOCTYPE html>
<html lang="en-us" style="visibility: hidden;">
<!-- Gorilla Presenter. Copyright 2024 by Anthony W. Hursh. -->
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">
    <meta http-equiv="Cache-Control" content="no-store,must-revalidate,max-age=-1">
    <meta http-equiv="Pragma" content="no-store">
    <meta http-equiv="Expires" content="0">
    <title>GorillaPresenter</title>
  </head>

  <body>
    <noscript id="noscript">
      Yeah, there's absolutely no way this can work with JavaScript turned off. Sorry, my friend.
    </noscript>
    
  <div id="gorilla-presenter-slideroot" class= "gorilla-presenter-screen nonprintable">
  </div>
 
  <div id="gorilla-presenter-slide-editor-container" class= "gorilla-presenter-screen gorilla-presenter-editor-container nonprintable">
    <div id="gorilla-presenter-editor-controls">
      <span class="gorilla-presenter-button-bar">
      <button class="gorilla-presenter-editor-button icon-ok" type="button" englishtitle="Done""></button>
      <button class="gorilla-presenter-editor-button icon-bold" type="button" 
       englishtitle = "Bold"></button>

      <button class="gorilla-presenter-editor-button icon-italic" type="button" englishtitle="Italic"></button>
      <button class="gorilla-presenter-editor-button icon-list-bullet" type="button" englishtitle="Bulleted List"></button>
      <button class="gorilla-presenter-editor-button icon-list-numbered" type="button" englishtitle="Numbered List"></button>
      <button class="gorilla-presenter-editor-button icon-quote-left" type="button" englishtitle="Block Quote"></button>
      <button class="gorilla-presenter-editor-button icon-scissors" type="button" englishtitle="Cut"></button>
      <button class="gorilla-presenter-editor-button icon-docs" type="button" englishtitle="Copy"></button>
      <button class="gorilla-presenter-editor-button icon-paste" type="button" englishtitle="Paste"></button>
      <button class="gorilla-presenter-editor-button icon-sticky-note-o" type="button" englishtitle="Insert Note"></button>
      <button class="gorilla-presenter-editor-button icon-comment-empty" type="button" englishtitle="Insert Comment"></button>
      <button class="gorilla-presenter-editor-button icon-minus-squared-alt" type="button" id= "split-editor" englishtitle="Split Editor"></button>
      <button class="gorilla-presenter-editor-button hidden-editor-button  icon-check-empty" type="button" id="unsplit-editor" style="display:none;" englishtitle= "Unsplit Editor"></button>
    
      <button class="gorilla-presenter-editor-button icon-download" type="button" englishtitle="Save Presentation"></button>
      <button class="gorilla-presenter-editor-button icon-upload" type="button" englishtitle="Import Presentation"></button>
      <button class="gorilla-presenter-editor-button icon-question-circle-o" type="button" englishtitle="Help"></button>
    </span>
    </div>
    <div id="gorilla-presenter-slide-text-editor-wrapper">
      <textarea title="Slide Text Editor" id="gorilla-presenter-slide-text-editor" class="gorilla-presenter-text-editor"></textarea>
      <textarea title="Secondary Slide Text Editor" id="gorilla-presenter-secondary-slide-text-editor" class="gorilla-presenter-text-editor"></textarea>
    </div>
  </div>
    
  <div id="gorilla-presenter-media-library-container" class="gorilla-presenter-screen gorilla-presenter-editor-container nonprintable">
    <div id="gorilla-presenter-media-library-uploader">
      <h1>Media Library</h1>
      <button id="gorilla-presenter-media-library-upload-button" onclick="GorillaPresenter.uploadMediaFile()">Import Media</button>
    </div>
    <div id="gorilla-presenter-media-library">
        
    </div>
  </div>
  <div id="gorilla-presenter-about-container" class="gorilla-presenter-screen gorilla-presenter-editor-container nonprintable">
    <div id="gorilla-presenter-about">
      <button onclick="GorillaPresenter.showSlideShowScreen()">Done</button>
      <h1>Summary</h1>
      <p><b>Gorilla Presenter depends on you. Please support it!</b></p>
      <p>Author: Anthony W. Hursh</p>
      <p>Version: ___VERSION___</p>
      <p>Build: ___BUILD___</p>
      <p>Build date: ___BUILD_DATE___</p>
      <p>License: MIT</p>
      <p>Source code: <a href="https://github.com/pulpgrinder/GorillaPresenter" target="_blank" rel="noopener">available on GitHub</a></p>
    </div>
  </div>

  <dialog id="gorilla-presenter-main-menu-wrapper"  class="nonprintable">
  <div id="gorilla-presenter-main-menu" class="gorilla-presenter-unselectable">
  </div>
</dialog>
    <div id="gorilla-presenter-warning-message" class="nonprintable">
      This is a warning, y'all.
    </div>
  <dialog id="gorilla-presenter-printer-dialog" class="nonprintable">
    Paper size: <select id="gorilla-presenter-paper-size">
      <option value="letter">U.S. letter</option>
      <option value="a4">A4</option>
    </select>
    Slides per page: <select id="gorilla-presenter-slides-per-page">
      <option value="1">1</option>
      <option value="6">6</option>
    </select>
    <br>
    <br>
    <button onclick="GorillaPresenter.printHandler()">Print</button>
    <button onclick="GorillaPresenter.hidePrintDialog()">Cancel</button>
  </dialog>

<div id="gorilla-presenter-launcher" class="nonprintable">
       <input type="file" id="gorilla-presenter-workspace-chooser" onchange="GorillaPresenter.workspaceChosen()" accept="html"/>
</div>

<div id="print-container">
</div>
  </body>
 
  <script type="text/javascript" id="Gorilla_presenter_file_system">

    function setGlobalVariable(varname, value) {
      window[varname] = value;
    }

    function isClassDefined(className) {
    return typeof window[className] === 'function' && /^\s*class\s+/.test(window[className].toString());
    }
let BrowserFileSystem = {};
    ___FILESYSTEM___


  </script>
  <script type="text/javascript" id="Gorilla_presenter_system_boot">
  let debugging = ___DEBUGGING___;
  if(debugging === true){
    console.log("Debugging is enabled.");
  }
  else{
    console.log("Debugging is disabled.");
  }
 let launcher = {
    initSystem: function(){
      console.log("initSystem: GorillaPresenter version: " + "___VERSION___" + " build: " + "___BUILD___" + " compiled: " + "___BUILD_DATE___");
      this.version = "___VERSION___";
      this.build = "___BUILD___";
      this.compileDate = "___BUILD_DATE___";
      this.CumulativeErrors = [];
      //Launch statistics.
      this.cssLoaded = [];
      this.cssErrors = [];
      this.jsLoaded = [];
      this.jsErrors = [];
      self:this;
      this.loadError = false;
      this.currentSourceFile = null;
      window.onerror = function (msg, url, lineNo, columnNo, error){
        let errmsg = "";
        if(this.currentSourceFile !== null){
          errmsg = "Error in source file:" + this.currentSourceFile + " ->  ";
        }
        errmsg = errmsg + msg + "\n" + error.stack;
        console.error(errmsg);
        return false;
      }
    },
    launchSystem:function(x){
    this.loadError = false;
    let jsQueue = [];
    let cssQueue = [];
    let BrowserFileSystemObject = BrowserFileSystem.fs["vendor/BrowserFileSystem/BrowserFileSystem.js"];
    let BrowserFileSystemDataStart = BrowserFileSystemObject["data"].indexOf("base64,") + 7;
    let BrowserFileSystemData = BrowserFileSystemObject["data"].substring(BrowserFileSystemDataStart);
    let BrowserFileSystemCode = this.decodeText(BrowserFileSystemData);
    let script = document.createElement('script');
    script.type = 'text/javascript';
    script.appendChild(document.createTextNode(BrowserFileSystemCode));
    document.body.appendChild(script);
    let filenames = Object.keys(BrowserFileSystem.fs).sort(naturalSort());
    for(let i = 0; i < filenames.length; i++){
        let filename = filenames[i];
      if(filename.match(/\.css$/) !== null){
          cssQueue.push(filename)
      }
      if(filename.match(/\.js$/) !== null){
        if(filename !== "vendor/BrowserFileSystem/BrowserFileSystem.js"){ // Don't load the file system again.
        jsQueue.push(filename);
        }
      }
    }
    for(let i = 0; i < cssQueue.length; i++){
      this.addCSS(cssQueue[i])
      if(this.loadError === true){
        return;
      }
    }
    for(let i = 0; i < jsQueue.length; i++){
      this.addJS(jsQueue[i]);
      if(this.loadError === true){
        return;
      }
    }
    setTimeout(function(){
      if(launcher.CumulativeErrors.length !== 0){
        let msg = launcher.CumulativeErrors.join("\n");
        console.error(msg);
        launcher.CumulativeErrors = [];
      }
    },100);
  },
  addCSS: function(filename,id){
      try {
        let code = BrowserFileSystem.getBase64Data(filename);
        let style = document.createElement('style');
        style.type = 'text/css';
        if(id !== undefined){
        style.id = id;
        }
        style.appendChild(document.createTextNode(this.decodeText(code)));
        document.head.appendChild(style);
      }
      catch(e){
        this.handleLoadError(filename,e);
      }
      this.currentSourceFile = null;
    },

  handleLoadError:function(filename,error){
    console.error("Error in source file: " + filename + " -> " + error.toString())
  },
  // Append a script element containing JavaScript code from the internal
  // file system to the document body.
  addJS: function(filename,id){
    this.currentSourceFile = filename;
    console.log("Adding JS file: " + filename);
    try {
      let code = BrowserFileSystem.getBase64Data(filename);
        let script = document.createElement('script');
        script.type = 'text/javascript';
        if(id !== undefined){
        script.id = id;
        }
        script.appendChild(document.createTextNode(this.decodeText(code)));
        document.head.appendChild(script);
      }
      catch(e){
      this.handleLoadError(filename,e);
      }
      this.currentSourceFile = null;
  },

  decodeText: function(code){
    let byteCharacters = window.atob(code);
    let array = new Uint8Array(byteCharacters.length);
    for(let i = 0; i < byteCharacters.length; i++ ) { 
      array[i] = byteCharacters.charCodeAt(i);
    }
    return new TextDecoder("utf-8").decode(array);
  },
  
  cleanSystem: function(keepFileSystem){
    let styles = document.getElementsByTagName('style');
    let stylearr = Array.prototype.slice.call(styles)
    for(let i = 0; i < stylearr.length; i++){
      stylearr[i].remove();
    }
    if(keepFileSystem !== true){
      BrowserFileSystem.fs = null;
    }
    cleanScripts();
  },
  cleanScripts: function(){
    let scripts = document.getElementsByTagName('script');
    let scriptarr = Array.prototype.slice.call(scripts)
    for(let i = 0; i < scriptarr.length; i++){
      let script = scriptarr[i];
      script.remove();
      }
  },
  logLaunchStatistics: function(){
        console.log("CSS files with errors:\n" + this.cssErrors.join(", ") + "\n");
        console.log("JS files with errors:\n" + this.jsErrors.join(", ") + "\n");
    },
  urlParams: new URLSearchParams(window.location.search)

   }
   

    /*!
   * natural-sort.js
   * ===============
   * Sorting with support for numbers, dates, unicode and more.
   *
   * http://github.com/studio-b12/natural-sort
   * MIT License, Â© Studio B12 GmbH 2014
   *
   *//*
   *
   * Idea by Dave Koelle
   * Original implementation by Jim Palmer
   * Modified by Tomek Wiszniewski
   *
   */

   let naturalSort = function naturalSort (options) { 'use strict';
    if (!options) options = {};

    return function(a, b) {
      const EQUAL = 0;
      const GREATER = (options.direction == 'desc' ?
        -1 :
        1
      );
      const SMALLER = -GREATER;

      const re = /(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi;
      const sre = /(^[ ]*|[ ]*$)/g;
      const dre = /(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/;
      const hre = /^0x[0-9a-f]+$/i;
      const ore = /^0/;

      const normalize = function normalize (value) {
        const string = '' + value;
        return (options.caseSensitive ?
          string :
          string.toLowerCase()
        );
      };

      // Normalize values to strings
      const x = normalize(a).replace(sre, '') || '';
      const y = normalize(b).replace(sre, '') || '';

      // chunk/tokenize
      const xN = x.replace(re, '\0$1\0').replace(/\0$/,'').replace(/^\0/,'').split('\0');
      const yN = y.replace(re, '\0$1\0').replace(/\0$/,'').replace(/^\0/,'').split('\0');

      // Return immediately if at least one of the values is empty.
      if (!x && !y) return EQUAL;
      if (!x &&  y) return GREATER;
      if ( x && !y) return SMALLER;

      // numeric, hex or date detection
      const xD = parseInt(x.match(hre)) || (xN.length != 1 && x.match(dre) && Date.parse(x));
      const yD = parseInt(y.match(hre)) || xD && y.match(dre) && Date.parse(y) || null;
      let oFxNcL;
      let oFyNcL;

      // first try and sort Hex codes or Dates
      if (yD) {
        if ( xD < yD ) return SMALLER;
        else if ( xD > yD ) return GREATER;
      }

      // natural sorting through split numeric strings and default strings
      for (let cLoc=0, numS=Math.max(xN.length, yN.length); cLoc < numS; cLoc++) {

        // find floats not starting with '0', string or 0 if not defined (Clint Priest)
        oFxNcL = !(xN[cLoc] || '').match(ore) && parseFloat(xN[cLoc]) || xN[cLoc] || 0;
        oFyNcL = !(yN[cLoc] || '').match(ore) && parseFloat(yN[cLoc]) || yN[cLoc] || 0;

        // handle numeric vs string comparison - number < string - (Kyle Adams)
        if (isNaN(oFxNcL) !== isNaN(oFyNcL)) return (isNaN(oFxNcL)) ? GREATER : SMALLER;

        // rely on string comparison if different types - i.e. '02' < 2 != '02' < '2'
        else if (typeof oFxNcL !== typeof oFyNcL) {
          oFxNcL += '';
          oFyNcL += '';
        }

        if (oFxNcL < oFyNcL) return SMALLER;
        if (oFxNcL > oFyNcL) return GREATER;
      }

      return EQUAL;
    };
  };

  (function (root, factory) {
    if (typeof exports === 'object') {
      module.exports = factory();
    } else {
      root.naturalSort = factory();
    }
  }(this, function () {

    return naturalSort;

  }));

 </script>
 <script type="text/javascript">
  launcher.initSystem();
  launcher.launchSystem();
  document.getElementsByTagName("html")[0].style.visibility = "visible";
  if (!window.requestAnimationFrame) {
    window.requestAnimationFrame = function(fn) {
        var timer = 16.66; // 60 fps
        setTimeout(fn,timer);
    }
  }
  window.onload = function(){
    GorillaPresenter.startup()
  }

 /*setTimeout(function(){
   launcher.cleanScripts()
 },25); */
</script>
</body>
</html>
